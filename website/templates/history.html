{% extends "base.html" %}
{% block Title %}
Sorting History
{% endblock %}
{% block tab %}
<ul class="nav nav-pills nav-fill" style="margin-top: 10px">
    <li class="nav-item">
      <a class="nav-link" href="configurations">Configurations</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="sort">Sorting params</a>
      </li>
    <li class="nav-item">
      <a class="nav-link active bg-info" aria-current="page" href="history">History</a>
    </li>
  </ul>
{% endblock %}
{% block body %}
<section class="history mt-3">
  <div class="d-grid gap-2 mt-4" id="noteBox">
    <h2 class="text-center">Sorting Sessions History</h2>
  </div>
  <table class="text-center" style="width: 100%; margin-bottom: 10px; margin-top: 20px;">
    <thead>
    <tr>
      <th>Date</th>
      <th>Total objects</th>
      <th>Parameters</th>
      <th>Report</th>
    </tr>
  </thead>
  <tbody>
    {% for session in sessions %}
    <tr>
    <td>{{ session.dateTime }}</td>
    <td>{{ session.total_objects }}</td>
    <td>
      <ul>
        <li>{{ session.parameters[0] | title }}</li>
        <li>{{ session.parameters[1] | title}}</li>
        <li>{{ session.parameters[2] | title}}</li>
      </ul>
    </td>
    <td>
      <a href="{{url_for('views.report', s_id=session._id) }}" target="_blank" class="btn btn-warning" id="link_gen_report">Report</a>
    </td>
    </tr>
    {% endfor %}
  </tbody>
  </table>
  <form action="#" method="post">
  <button class="btn btn-dark d-block mx-auto mb-3" name="full_history" type="submit">View Full History</button>
</form>
</section>
{% endblock %}